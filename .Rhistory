summary(LiverData)
data <- read.csv("group_assignment1.csv")"ad_id","product_category","ad_group_id","age","gender","impressions","clicks","spent","enquiries","sales"
data <- read.csv("group_assignment1.csv")
q()
q()
library(nycflights13)
dataset <- flights
airlines <- airlines
# Filter flights to only those that departed from JFK
filtered_df <- filter(flights, origin == "JFK")
# arrange
arranged_df <- arrange(filtered_df, dep_delay)
install.packages("nycflights13")
library(nycflights13)
dataset <- flights
airlines <- airlines
# Filter flights to only those that departed from JFK
filtered_df <- filter(flights, origin == "JFK")
setwd("/Users/ninazhang/Documents/GitHub/PFE-Stikstof")
load(".RData", envir = temp_env)
load(".RData")
View(Data)
View(Nieuwbouw)
View(EmissieDataSetClean)
View(EmissieDataSet)
View(EmissieDataSet)
View(DataSetEmissie1)
View(DataSetEmissie2)
View(DataSetEmissie1)
View(Nieuwbouw0)
View(DataSetEmissie0)
View(DataSetEmissie1)
View(DataSetEmissie1)
View(DataSetEmissieClean)
View(Nieuwbouw)
View(Nieuwbouw0)
View(Nieuwbouw)
View(Nieuwbouw0)
View(NieuwbouwClean)
View(EmissieDataSetCleas)
View(EmissieDataSetClean0)
View(EmissieDataSetClean)
View(EmissieDataSet)
View(DataSetEmissieClean)
merged_table <- merge(NieuwbouwClean, DataSetEmissieClean, by = "Jaar")
merged_table
#2. remove the 2015 row, because we start 2019 as the baseline measurement for our graph
merged_table <- merged_table[-1, ]
merged_table
#3. Loop over all the rows and check the previous "Aantalwoning" and "Emissie" and get the %difference
for(jaar in merged_table) {
jaar
}
#3. Loop over all the rows and check the previous "Aantalwoning" and "Emissie" and get the %difference
for(jaar in merged_table) {
print(jaar)
}
#3. Loop over all the rows and check the previous "Aantalwoning" and "Emissie" and get the %difference
df <- data.frame(
Jaar = 2020:2023,
Aantalwoning = c(100, 120, 110, 150),
Emissie = c(200, 220, 210, 180)
)
df$diff_Aantalwoning <- c(NA, diff(df$Aantalwoning) / head(df$Aantalwoning, -1) * 100)
df$diff_Emissie <- c(NA, diff(df$Emissie) / head(df$Emissie, -1) * 100)
print(df)
#3. Loop over all the rows and check the previous "Aantalwoning" and "Emissie" and get the %difference
df <- data.frame(
Jaar = merged_table$Jaar,
Aantalwoning = merged_table$Aantalwoning,
Emissie = merged_table$Emissie
)
df$diff_Aantalwoning <- c(NA, diff(df$Aantalwoning) / head(df$Aantalwoning, -1) * 100)
df$diff_Emissie <- c(NA, diff(df$Emissie) / head(df$Emissie, -1) * 100)
print(df)
ggplot(df, aes(x = Jaar)) +
geom_line(aes(y = Aantalwoning, color = "Aantalwoning"), size = 1.2) +
geom_line(aes(y = Emissie, color = "Emissie"), size = 1.2) +
labs(title = "Aantalwoning and Emissie over Years",
y = "Value",
color = "Legend") +
theme_minimal()
library(ggplot2)
ggplot(df, aes(x = Jaar)) +
geom_line(aes(y = Aantalwoning, color = "Aantalwoning"), size = 1.2) +
geom_line(aes(y = Emissie, color = "Emissie"), size = 1.2) +
labs(title = "Aantalwoning and Emissie over Years",
y = "Value",
color = "Legend") +
theme_minimal()
#3. Loop over all the rows and check the previous "Aantalwoning" and "Emissie" and get the %difference
df <- data.frame(
Jaar = merged_table$Jaar,
Aantalwoningen = merged_table$Aantalwoningen,
Emissie = merged_table$Emissie
)
df$diff_Aantalwoningen <- c(NA, diff(df$Aantalwoningen) / head(df$Aantalwoningen, -1) * 100)
df$diff_Emissie <- c(NA, diff(df$Emissie) / head(df$Emissie, -1) * 100)
print(df)
library(ggplot2)
ggplot(df, aes(x = Jaar)) +
geom_line(aes(y = Aantalwoningen, color = "Aantalwoningen"), size = 1.2) +
geom_line(aes(y = Emissie, color = "Emissie"), size = 1.2) +
labs(title = "Aantalwoningen and Emissie over Years",
y = "Value",
color = "Legend") +
theme_minimal()
# Convert df to long format for Aantalwoning and Emissie
df_long <- df %>%
pivot_longer(cols = c(Aantalwoning, Emissie),
names_to = "Variable",
values_to = "Value")
library(tidyr)
library(ggplot2)
# Convert df to long format for Aantalwoningen and Emissie
df_long <- df %>%
pivot_longer(cols = c(Aantalwoningen, Emissie),
names_to = "Variable",
values_to = "Value")
# Reshape data (using Aantalwoningen)
df_long <- df %>%
pivot_longer(cols = c(Aantalwoningen, Emissie),
names_to = "Variable",
values_to = "Value")
# Plot double bar diagram
ggplot(df_long, aes(x = factor(Jaar), y = Value, fill = Variable)) +
geom_bar(stat = "identity", position = position_dodge()) +
labs(title = "Aantalwoningen and Emissie per Year",
x = "Year",
y = "Value",
fill = "Variable") +
theme_minimal() +
scale_fill_brewer(palette = "Set1")
# Example data frame (replace this with your merged_table data if you want)
df <- data.frame(
Jaar = 2020:2023,
Aantalwoningen = c(100, 120, 110, 150),
Emissie = c(200, 220, 210, 180)
)
# Calculate percentage differences
df <- df %>%
arrange(Jaar) %>%
mutate(
diff_Aantalwoningen = c(NA, diff(Aantalwoningen) / head(Aantalwoningen, -1) * 100),
diff_Emissie = c(NA, diff(Emissie) / head(Emissie, -1) * 100)
)
library(dplyr)
source("~/Documents/GitHub/PFE-Stikstof/getGraph.R")
source("~/Documents/GitHub/PFE-Stikstof/getGraph.R")
source("~/Documents/GitHub/PFE-Stikstof/getGraph.R")
source("~/Documents/GitHub/PFE-Stikstof/getGraph.R")
source("~/Documents/GitHub/PFE-Stikstof/getGraph.R")
library(dplyr)
library(tidyr)
library(ggplot2)
#1. merge tables
merged_table <- merge(NieuwbouwClean, DataSetEmissieClean, by = "Jaar")
#2. remove the 2015 row, because we start 2019 as the baseline measurement for our graph
merged_table <- merged_table[-1, ]
#3. Loop over all the rows and check the previous "Aantalwoning" and "Emissie" and get the %difference
df <- data.frame(
Jaar = merged_table$Jaar,
Aantalwoningen = merged_table$Aantalwoningen,
Emissie = merged_table$Emissie
)
# Example data frame (replace this with your merged_table data if you want)
df <- data.frame(
Jaar = 2020:2023,
Aantalwoningen = c(100, 120, 110, 150),
Emissie = c(200, 220, 210, 180)
)
# Calculate percentage differences
df <- df %>%
arrange(Jaar) %>%
mutate(
diff_Aantalwoningen = c(NA, diff(Aantalwoningen) / head(Aantalwoningen, -1) * 100),
diff_Emissie = c(NA, diff(Emissie) / head(Emissie, -1) * 100)
)
# Reshape for plotting
df_long <- df %>%
select(Jaar, diff_Aantalwoningen, diff_Emissie) %>%
pivot_longer(cols = c(diff_Aantalwoningen, diff_Emissie),
names_to = "Variable",
values_to = "Percent_Diff")
# Optional: Clean variable names for better legend labels
df_long$Variable <- recode(df_long$Variable,
diff_Aantalwoningen = "Aantalwoningen % Diff",
diff_Emissie = "Emissie % Diff")
# Plot double bar chart
ggplot(df_long, aes(x = factor(Jaar), y = Percent_Diff, fill = Variable)) +
geom_bar(stat = "identity", position = position_dodge()) +
geom_hline(yintercept = 0, linetype = "dashed") +
geom_text(aes(label = ifelse(is.na(Percent_Diff), "", round(Percent_Diff, 1))),
position = position_dodge(width = 0.9),
vjust = -0.25, size = 3) +
labs(title = "Percentage Difference of Aantalwoningen and Emissie per Year",
x = "Year",
y = "Percentage Difference (%)",
fill = "Variable") +
theme_minimal()
#3. Loop over all the rows and check the previous "Aantalwoning" and "Emissie" and get the %difference
df <- data.frame(
Jaar = merged_table$Jaar,
Aantalwoningen = merged_table$Aantalwoningen,
Emissie = merged_table$Emissie
)
df$diff_Aantalwoningen <- c(NA, diff(df$Aantalwoningen) / head(df$Aantalwoningen, -1) * 100)
df$diff_Emissie <- c(NA, diff(df$Emissie) / head(df$Emissie, -1) * 100)
print(df)
# Plot
ggplot(df_long, aes(x = factor(Jaar), y = Percent_Diff, fill = Variable)) +
geom_bar(stat = "identity", position = position_dodge(width = 0.8)) +
geom_hline(yintercept = 0, linetype = "dashed", color = "gray40") +
geom_text(aes(label = ifelse(is.na(Percent_Diff), "", round(Percent_Diff, 1))),
position = position_dodge(width = 0.8), vjust = -0.5, size = 3) +
labs(
title = "Year-over-Year Percentage Difference\nAantalwoningen and Emissie",
x = "Year",
y = "Percentage Difference (%)",
fill = "Variable"
) +
theme_minimal()
# Manually create a long-format dataframe for plotting
Variable <- rep(c("Aantalwoningen % Diff", "Emissie % Diff"), each = nrow(df))
Jaar <- rep(df$Jaar, 2)
Percent_Diff <- c(df$diff_Aantalwoningen, df$diff_Emissie)
df_long <- data.frame(Jaar = Jaar, Variable = Variable, Percent_Diff = Percent_Diff)
# Plot
ggplot(df_long, aes(x = factor(Jaar), y = Percent_Diff, fill = Variable)) +
geom_bar(stat = "identity", position = position_dodge(width = 0.8)) +
geom_hline(yintercept = 0, linetype = "dashed", color = "gray40") +
geom_text(aes(label = ifelse(is.na(Percent_Diff), "", round(Percent_Diff, 1))),
position = position_dodge(width = 0.8), vjust = -0.5, size = 3) +
labs(
title = "Year-over-Year Percentage Difference\nAantalwoningen and Emissie",
x = "Year",
y = "Percentage Difference (%)",
fill = "Variable"
) +
theme_minimal()
source("~/Documents/GitHub/PFE-Stikstof/YBY_Difference.R")
library(tidyr)
library(ggplot2)
source("~/Documents/GitHub/PFE-Stikstof/YBY_Difference.R")
#3. Loop over all the rows and check the previous "Aantalwoningen" and "Emissie" and get the %difference
df <- data.frame(
Jaar = merged_table$Jaar,
Aantalwoningen = merged_table$Aantalwoningen,
Emissie = merged_table$Emissie
)
print(df)
df$diff_Aantalwoningen <- c(NA, diff(df$Aantalwoningen) / head(df$Aantalwoningen, 2) * 100)
df$diff_Emissie <- c(NA, diff(df$Emissie) / head(df$Emissie, 3) * 100)
#3. Loop over all the rows and check the previous "Aantalwoningen" and "Emissie" and get the %difference
df <- data.frame(
Jaar = merged_table$Jaar,
Aantalwoningen = merged_table$Aantalwoningen,
Emissie = merged_table$Emissie
)
print(df)
df$diff_Aantalwoningen <- c(NA, diff(df$Aantalwoningen) / head(df$Aantalwoningen, 1) * 100)
df$diff_Emissie <- c(NA, diff(df$Emissie) / head(df$Emissie, 2) * 100)
print(df)
print(diff(df$Aantalwoningen))
print(head(df$Aantalwoningen, -1))
source("~/Documents/GitHub/PFE-Stikstof/YBY_Difference.R")
print(head(df$Aantalwoningen))
source("~/Documents/GitHub/PFE-Stikstof/YBY_Difference.R")
print(head(df$Aantalwoningen, 2))
source("~/Documents/GitHub/PFE-Stikstof/YBY_Difference.R")
print(head(df$Aantalwoningen, 1))
source("~/Documents/GitHub/PFE-Stikstof/YBY_Difference.R")
print(head(df$Aantalwoningen, -1))
source("~/Documents/GitHub/PFE-Stikstof/YBY_Difference.R")
print(head(df$Aantalwoningen, 4))
source("~/Documents/GitHub/PFE-Stikstof/YBY_Difference.R")
print(head(df$Aantalwoningen, 6))
source("~/Documents/GitHub/PFE-Stikstof/YBY_Difference.R")
print(head(df$Aantalwoningen))
source("~/Documents/GitHub/PFE-Stikstof/YBY_Difference.R")
df$diff_Aantalwoningen <- c(NA, diff(df$Aantalwoningen) / head(df$Aantalwoningen) * 100)
df$diff_Emissie <- c(NA, diff(df$Emissie) / head(df$Emissie, -1) * 100)
library(tidyr)
library(ggplot2)
#1. merge tables
merged_table <- merge(NieuwbouwClean, DataSetEmissieClean, by = "Jaar")
#2. remove the 2015 row, because we start 2019 as the baseline measurement for our graph
merged_table <- merged_table[-1, ]
#3. Loop over all the rows and check the previous "Aantalwoningen" and "Emissie" and get the %difference
df <- data.frame(
Jaar = merged_table$Jaar,
Aantalwoningen = merged_table$Aantalwoningen,
Emissie = merged_table$Emissie
)
print(diff(df$Aantalwoningen))
print(head(df$Aantalwoningen))
df$diff_Aantalwoningen <- c(NA, diff(df$Aantalwoningen) / head(df$Aantalwoningen) * 100)
df$diff_Emissie <- c(NA, diff(df$Emissie) / head(df$Emissie, -1) * 100)
source("~/Documents/GitHub/PFE-Stikstof/YBY_Difference.R")
df$diff_Aantalwoningen <- c(NA, diff(df$Aantalwoningen) / head(df$Aantalwoningen, 6) * 100)
source("~/Documents/GitHub/PFE-Stikstof/YBY_Difference.R")
df$diff_Aantalwoningen <- c(NA, diff(df$Aantalwoningen) / head(df$Aantalwoningen, 5) * 100)
source("~/Documents/GitHub/PFE-Stikstof/YBY_Difference.R")
df$diff_Aantalwoningen <- c(NA, diff(df$Aantalwoningen) / head(df$Aantalwoningen, -1) * 100)
df$diff_Emissie <- c(NA, diff(df$Emissie) / head(df$Emissie, -1) * 100)
print(diff(df$Aantalwoningen))
print(head(df$Aantalwoningen))
print(head(df$Aantalwoningen, 4))
print(head(df$Aantalwoningen, -1))
source("~/Documents/GitHub/PFE-Stikstof/YBY_Difference.R")
source("~/Documents/GitHub/PFE-Stikstof/YBY_Difference.R")
source("~/Documents/GitHub/PFE-Stikstof/YBY_Difference.R")
source("~/Documents/GitHub/PFE-Stikstof/YBY_Difference.R")
source("~/Documents/GitHub/PFE-Stikstof/YBY_Difference.R")
source("~/Documents/GitHub/PFE-Stikstof/YBY_Difference.R")
source("~/Documents/GitHub/PFE-Stikstof/YBY_Difference.R")
# Added two extra columns that show the percental difference. We use -1 because the value in the last year 2023 cannot be compared
df$diff_Aantalwoningen <- c(NA, diff(df$Aantalwoningen) / head(df$Aantalwoningen, -1) * 100)
df$diff_Emissie <- c(NA, diff(df$Emissie) / head(df$Emissie, -1) * 100)
print(df)
#4. Manually create a long-format dataframe for plotting
Variable <- rep(c("Aantalwoningen % Diff", "Emissie % Diff"), each = nrow(df))
Jaar <- rep(df$Jaar, 2)
Percent_Diff <- c(df$diff_Aantalwoningen, df$diff_Emissie)
df_long <- data.frame(Jaar = Jaar, Variable = Variable, Percent_Diff = Percent_Diff)
#5. Make plot double bar chart per year for Aantalwoningen % Diff and Emissie % Diff
ggplot(df_long, aes(x = factor(Jaar), y = Percent_Diff, fill = Variable)) +
geom_bar(stat = "identity", position = position_dodge(width = 0.8)) +
geom_hline(yintercept = 0, linetype = "dashed", color = "gray40") +
geom_text(aes(label = ifelse(is.na(Percent_Diff), "", round(Percent_Diff, 1))),
position = position_dodge(width = 0.8), vjust = -0.5, size = 3) +
labs(
title = "Year-over-Year Percentage Difference\nAantalwoningen and Emissie",
x = "Year",
y = "Percentage Difference (%)",
fill = "Variable"
) +
theme_minimal()
source("~/Documents/GitHub/PFE-Stikstof/YBY_Difference.R")
