setwd("/Users/ninazhang/Desktop/Practice_Exam-2/Key")
rm(list = ls())
library(readxl)
library(tidyverse)
read.xlsx("city_budget.xlsx")
city_budget = read_xlsx("city_budget.xlsx")
city_budget = read_xlsx("city_budget.xlsx")
setwd("/Users/ninazhang/Desktop/Practice_Exam-2/Datasets")
city_budget = read_xlsx("city_budget.xlsx")
city_budgt
city_budget
View(city_budget)
city_budget = as.data.frame(city_budget)
View(city_budget)
mean(city_budget$total_budget)
mmedian(city_budget$total_budget)
mmdian(city_budget$total_budget)
median(city_budget$total_budget)
setwd("/Users/ninazhang/Documents/GitHub/PFE-Stikstof")
library(tidyr)
library(ggplot2)
#1. Merge the cleaned tables of Energy Usage of Bouw and Landbouw for the years 2019-2023
combined_data <- merge(df_filtered_bouw, df_filtered_landbouw, by = "Perioden")
plot_data <- combined_data %>%
pivot_longer(
cols = c("Totaal energiedragers.x", "Totaal energiedragers.y", Onderwerp.x, Onderwerp.y),
names_to = c(".value", "set"),
names_pattern = "(.*)\\.(.)"
)
plot_data$`Totaal energiedragers` <- as.numeric(gsub(",", ".", plot_data$`Totaal energiedragers`))
plot_data$Sector <- ifelse(plot_data$set == "x", "Bouw", "Landbouw")
ggplot(plot_data, aes(x = factor(Perioden), y = `Totaal energiedragers`, fill = Onderwerp)) +
geom_bar(stat = "identity", position = "dodge") +
labs(
title = "Energy Usage per Year per Sector",
x = "Year",
y = "Energy Usage (Pentajoule)",
fill = "Sector"
) +
theme_minimal()
source("~/Documents/GitHub/PFE-Stikstof/DataSetEnergieverbruikBouw.R")
library(tidyr)
library(ggplot2)
#1. Merge the cleaned tables of Emission of Bouw and Landbouw for the years 2019-2023
combined_data <- merge(DataSetEmissieCleanBouw, DataSetEmissieCleanLandbouw, by = "Jaar")
#2. Remove the 2015 row, because we start 2019 as the baseline measurement for our graph,
combined_data <- combined_data %>%
filter(Jaar != 2015)
plot_data <- combined_data %>%
pivot_longer(
cols = c(Emissie.x, Emissie.y, Sector.x, Sector.y),
names_to = c(".value", "set"),
names_pattern = "(.*)\\.(.)"
)
plot_data$Sector <- ifelse(plot_data$set == "x", "Bouw", "Landbouw")
ggplot(plot_data, aes(x = factor(Jaar), y = Emissie, fill = Sector)) +
scale_y_log10() +
geom_bar(stat = "identity", position = "dodge") +
labs(
title = "Emission per Year per Sector",
x = "Year",
y = "Emission (kg)",
fill = "Sector"
) +
theme_minimal()
library(readr)
library(tidyr)
library(dplyr)
library(ggplot2)
data <- read.csv2("Energieverbruik_Landbouw.csv")
data_raw <- read.csv("Energieverbruik_Landbouw.csv", header = FALSE, sep = ";", stringsAsFactors = FALSE)
data_transposed <- as.data.frame(t(data_raw), stringsAsFactors = FALSE)
colnames(data_transposed) <- data_transposed[1, ]
data_transposed <- data_transposed[-1, ]
rownames(data_transposed) <- NULL
df_filtered_landbouw <- data_transposed %>%
filter(Perioden >= 2019)
View(df_filtered_landbouw)
source("~/Documents/GitHub/PFE-Stikstof/EnergyUsage_Per_Year_Per_Sector.R")
library(tidyr)
library(ggplot2)
#1. Merge the cleaned tables of Energy Usage of Bouw and Landbouw for the years 2019-2023
combined_data <- merge(df_filtered_bouw, df_filtered_landbouw, by = "Perioden")
plot_data <- combined_data %>%
pivot_longer(
cols = c("Totaal energiedragers.x", "Totaal energiedragers.y", Onderwerp.x, Onderwerp.y),
names_to = c(".value", "set"),
names_pattern = "(.*)\\.(.)"
)
plot_data$`Totaal energiedragers` <- as.numeric(gsub(",", ".", plot_data$`Totaal energiedragers`))
plot_data$Sector <- ifelse(plot_data$set == "x", "Bouw", "Landbouw")
ggplot(plot_data, aes(x = factor(Perioden), y = `Totaal energiedragers`, fill = Onderwerp)) +
geom_bar(stat = "identity", position = "dodge") +
labs(
title = "Energy Usage per Year per Sector",
x = "Year",
y = "Energy Usage (Pentajoule)",
fill = "Sector"
) +
theme_minimal()
install.packages("Rtools")
install.packages("readxl")
library(readxl)
Nieuwbouw = read_xlsx("C:/Users/Badr/Downloads/Nieuwbouw.xlsx")
j2013 = as.numeric(Nieuwbouw0[24, 2])
install.packages("readxl")
install.packages("Rtools")
install.packages("readxl")
library(readxl)
install.packages("readxl")
Nieuwbouw = read_xlsx("C:/Users/Badr/Downloads/Nieuwbouw.xlsx")
EmissieDataSet = read_xlsx("C:/Users/Badr/Downloads/EmissieDataSet.xlsx")
Nieuwbouw0 <- Nieuwbouw[-1,]
j2012 = as.numeric(Nieuwbouw0[12, 2])
j2013 = as.numeric(Nieuwbouw0[24, 2])
j2014 = as.numeric(Nieuwbouw0[36, 2])
j2015 = as.numeric(Nieuwbouw0[48, 2])
j2016 = as.numeric(Nieuwbouw0[60, 2])
j2017 = as.numeric(Nieuwbouw0[72, 2])
library(tidyr)
library(ggplot2)
#1. Merge the cleaned tables of Energy Usage of Bouw and Landbouw for the years 2019-2023
combined_data <- merge(df_filtered_bouw, df_filtered_landbouw, by = "Perioden")
source("~/Documents/GitHub/PFE-Stikstof/EnergyUsage_Per_Year_Per_Sector.R")
source("~/Documents/GitHub/PFE-Stikstof/EnergyUsage_Per_Year_Per_Sector.R")
source("~/Documents/GitHub/PFE-Stikstof/EnergyUsage_Per_Year_Per_Sector.R")
library(ggplot2)
#1. Merge the cleaned tables of Energy Usage of Bouw and Landbouw for the years 2019-2023
combined_data <- merge(df_filtered_bouw, df_filtered_landbouw, by = "Perioden")
plot_data <- combined_data %>%
pivot_longer(
cols = c("Totaal energiedragers.x", "Totaal energiedragers.y", Onderwerp.x, Onderwerp.y),
names_to = c(".value", "set"),
names_pattern = "(.*)\\.(.)"
)
plot_data$`Totaal energiedragers` <- as.numeric(gsub(",", ".", plot_data$`Totaal energiedragers`))
plot_data$Sector <- ifelse(plot_data$set == "x", "Bouw", "Landbouw")
ggplot(plot_data, aes(x = factor(Perioden), y = `Totaal energiedragers`, fill = Onderwerp)) +
geom_bar(stat = "identity", position = "dodge") +
labs(
title = "Energy Usage per Year per Sector",
x = "Year",
y = "Energy Usage (Pentajoule)",
fill = "Sector"
) +
theme_minimal()
library(tidyr)
library(ggplot2)
#1. Merge the cleaned tables of Emission of Bouw and Landbouw for the years 2019-2023
combined_data <- merge(DataSetEmissieCleanBouw, DataSetEmissieCleanLandbouw, by = "Jaar")
#2. Remove the 2015 row, because we start 2019 as the baseline measurement for our graph,
combined_data <- combined_data %>%
filter(Jaar != 2015)
plot_data <- combined_data %>%
pivot_longer(
cols = c(Emissie.x, Emissie.y, Sector.x, Sector.y),
names_to = c(".value", "set"),
names_pattern = "(.*)\\.(.)"
)
plot_data$Sector <- ifelse(plot_data$set == "x", "Bouw", "Landbouw")
ggplot(plot_data, aes(x = factor(Jaar), y = Emissie, fill = Sector)) +
scale_y_log10() +
geom_bar(stat = "identity", position = "dodge") +
labs(
title = "Emission per Year per Sector",
x = "Year",
y = "Emission (kg)",
fill = "Sector"
) +
theme_minimal()
source("~/Documents/GitHub/PFE-Stikstof/Emission_Per_Year_Per_Sector.R")
library(tidyr)
library(ggplot2)
#1. Merge the cleaned tables of Emission of Bouw and Landbouw for the years 2019-2023
combined_data <- merge(DataSetEmissieCleanBouw, DataSetEmissieCleanLandbouw, by = "Jaar")
library(ggplot2)
#1. Merge the cleaned tables of Emission of Bouw and Landbouw for the years 2019-2023
combined_data <- merge(DataSetEmissieCleanBouw, DataSetEmissieCleanLandbouw, by = "Jaar")
install.packages("Rtools")
install.packages("readxl")
library(readxl)
Nieuwbouw = read_xlsx("C:/Users/Badr/Downloads/Nieuwbouw.xlsx")
library(tidyr)
library(ggplot2)
#1. Merge the cleaned tables of Emission of Bouw and Landbouw for the years 2019-2023
combined_data <- merge(DataSetEmissieCleanBouw, DataSetEmissieCleanLandbouw, by = "Jaar")
install.packages("readxl")
install.packages("Rtools")
install.packages("readxl")
library(readxl)
Nieuwbouw = read_xlsx("C:/Users/Badr/Downloads/Nieuwbouw.xlsx")
EmissieDataSet = read_xlsx("C:/Users/Badr/Downloads/EmissieDataSet.xlsx")
install.packages("Rtools")
install.packages("readxl")
library(readxl)
Nieuwbouw = read_xlsx("Nieuwbouw.xlsx")
EmissieDataSet = read_xlsx("EmissieDataSet.xlsx")
Nieuwbouw0 <- Nieuwbouw[-1,]
install.packages("readxl")
library(readxl)
install.packages(tidyverse)
install.packages("Rtools")
install.packages("tidyverse")
install.packages("Rtools")
install.packages("readxl")
library(readxl)
Nieuwbouw = read_xlsx("Nieuwbouw.xlsx")
EmissieDataSet = read_xlsx("EmissieDataSet.xlsx")
Nieuwbouw0 <- Nieuwbouw[-1,]
j2012 = as.numeric(Nieuwbouw0[12, 2])
j2013 = as.numeric(Nieuwbouw0[24, 2])
j2014 = as.numeric(Nieuwbouw0[36, 2])
j2015 = as.numeric(Nieuwbouw0[48, 2])
j2016 = as.numeric(Nieuwbouw0[60, 2])
j2017 = as.numeric(Nieuwbouw0[72, 2])
j2018 = as.numeric(Nieuwbouw0[84, 2])
j2019 = as.numeric(Nieuwbouw0[96, 2])
j2020 = as.numeric(Nieuwbouw0[108, 2])
j2021 = as.numeric(Nieuwbouw0[120, 2])
j2022 = as.numeric(Nieuwbouw0[132, 2])
j2023 = as.numeric(Nieuwbouw0[144, 2])
NieuwbouwClean = data.frame(
Jaar = c("2012", "2013", "2014", "2015", "2016", "2017",
"2018", "2019", "2020", "2021", "2022", "2023"),
Aantalwoningen = c(j2012, j2013, j2014, j2015, j2016, j2017, j2018, j2019, j2020, j2021, j2022, j2023)
)
View(NieuwbouwClean)
View(plot_data)
install.packages("readxl")
install.packages("readxl")
library(readxl)
Nieuwbouw = read_xlsx("Nieuwbouw.xlsx")
EmissieDataSet = read_xlsx("EmissieDataSet.xlsx")
View(EmissieDataSet)
Nieuwbouw0 <- Nieuwbouw[-1,]
j2012 = as.numeric(Nieuwbouw0[12, 2])
Nieuwbouw0 <- Nieuwbouw[-1,]
j2019 = as.numeric(Nieuwbouw0[96, 2])
j2020 = as.numeric(Nieuwbouw0[108, 2])
j2021 = as.numeric(Nieuwbouw0[120, 2])
j2022 = as.numeric(Nieuwbouw0[132, 2])
j2023 = as.numeric(Nieuwbouw0[144, 2])
NieuwbouwClean = data.frame(
Jaar = c("2012", "2013", "2014", "2015", "2016", "2017",
"2018", "2019", "2020", "2021", "2022", "2023"),
Aantalwoningen = c(j2012, j2013, j2014, j2015, j2016, j2017, j2018, j2019, j2020, j2021, j2022, j2023)
)
Nieuwbouw0 <- Nieuwbouw[-1,]
j2012 = as.numeric(Nieuwbouw0[12, 2])
j2013 = as.numeric(Nieuwbouw0[24, 2])
j2014 = as.numeric(Nieuwbouw0[36, 2])
j2015 = as.numeric(Nieuwbouw0[48, 2])
j2016 = as.numeric(Nieuwbouw0[60, 2])
j2017 = as.numeric(Nieuwbouw0[72, 2])
j2018 = as.numeric(Nieuwbouw0[84, 2])
j2019 = as.numeric(Nieuwbouw0[96, 2])
j2020 = as.numeric(Nieuwbouw0[108, 2])
j2021 = as.numeric(Nieuwbouw0[120, 2])
j2022 = as.numeric(Nieuwbouw0[132, 2])
j2023 = as.numeric(Nieuwbouw0[144, 2])
NieuwbouwClean = data.frame(
Jaar = c("2012", "2013", "2014", "2015", "2016", "2017",
"2018", "2019", "2020", "2021", "2022", "2023"),
Aantalwoningen = c(j2012, j2013, j2014, j2015, j2016, j2017, j2018, j2019, j2020, j2021, j2022, j2023)
)
View(NieuwbouwClean)
DataSetEmissie0 <- EmissieDataSet[,-10:-26]
DataSetEmissie1 <- DataSetEmissie0[-18:-41,-1:-7]
DataSetEmissieClean <- DataSetEmissie1[12:23,]
View(DataSetEmissieClean)
EnergieverbruikBouw0 <- EnergieverbruikBouw[-2,]
EnergieverbruikBouwClean <- EnergieverbruikBouw0[,-1]
rownames(EnergieverbruikBouwClean) = c("Periode", "Total usage build sector")
View(EnergieverbruikBouwClean)
EnergieverbruikLandbouw0 <- EnergieverbruikLandbouw[-2,]
EnergieverbruikLandbouwClean <- EnergieverbruikLandbouw0[,-1]
rownames(EnergieverbruikLandbouwClean) = c("Periode", "Total usage agriculture sector")
View(EnergieverbruikLandbouwClean)
install.packages("tidyverse")
install.packages("tidyverse")
install.packages("Rtools")
install.packages("readxl")
library(readxl)
Nieuwbouw = read_xlsx("Nieuwbouw.xlsx")
EmissieDataSet = read_xlsx("EmissieDataSet.xlsx")
Nieuwbouw0 <- Nieuwbouw[-1,]
j2012 = as.numeric(Nieuwbouw0[12, 2])
install.packages("readxl")
j2013 = as.numeric(Nieuwbouw0[24, 2])
j2014 = as.numeric(Nieuwbouw0[36, 2])
j2015 = as.numeric(Nieuwbouw0[48, 2])
j2016 = as.numeric(Nieuwbouw0[60, 2])
j2017 = as.numeric(Nieuwbouw0[72, 2])
j2018 = as.numeric(Nieuwbouw0[84, 2])
j2019 = as.numeric(Nieuwbouw0[96, 2])
j2020 = as.numeric(Nieuwbouw0[108, 2])
j2021 = as.numeric(Nieuwbouw0[120, 2])
j2022 = as.numeric(Nieuwbouw0[132, 2])
j2023 = as.numeric(Nieuwbouw0[144, 2])
NieuwbouwClean = data.frame(
Jaar = c("2012", "2013", "2014", "2015", "2016", "2017",
"2018", "2019", "2020", "2021", "2022", "2023"),
Aantalwoningen = c(j2012, j2013, j2014, j2015, j2016, j2017, j2018, j2019, j2020, j2021, j2022, j2023)
)
View(NieuwbouwClean)
library(tidyr)
library(ggplot2)
#1. Merge the cleaned tables of Emission of Bouw and Landbouw for the years 2019-2023
#combined_data <- merge(DataSetEmissieCleanBouw, DataSetEmissieCleanLandbouw, by = "Jaar")
combined_data <- DatasetCleanCode
#1. Merge the cleaned tables of Emission of Bouw and Landbouw for the years 2019-2023
#combined_data <- merge(DataSetEmissieCleanBouw, DataSetEmissieCleanLandbouw, by = "Jaar")
combined_data <- DataSetEmissieClean
plot_data <- combined_data %>%
pivot_longer(
cols = c(Emissie, Sector),
names_to = c(".value", "set"),
names_pattern = "(.*)\\.(.)"
)
ggplot(plot_data, aes(x = factor(Jaar), y = Emissie, fill = Sector)) +
scale_y_log10() +
geom_bar(stat = "identity", position = "dodge") +
labs(
title = "Emission per Year per Sector",
x = "Year",
y = "Emission (kg)",
fill = "Sector"
) +
theme_minimal()
plot_data <- combined_data %>%
pivot_longer(
cols = c(Emissie, Sector),
names_to = c(".value", "set"),
names_pattern = "(.*)\\.(.)"
)
View(plot_data)
View(plot_data)
View(plot_data)
#1. Merge the cleaned tables of Emission of Bouw and Landbouw for the years 2019-2023
#combined_data <- merge(DataSetEmissieCleanBouw, DataSetEmissieCleanLandbouw, by = "Jaar")
combined_data <- DataSetEmissieClean
plot_data <- combined_data %>%
pivot_longer(
cols = c(Emissie, Sector),
names_to = c(".value", "set"),
names_pattern = "(.*)\\.(.)"
)
plot_data <- combined_data %>%
pivot_longer(
cols = c(Emissie, Sector),
names_to = c(".value", "set"),
names_pattern = "(.*)\\.(.)"
)
rlang::last_trace()
ggplot(combined_data, aes(x = factor(Jaar), y = Emissie, fill = Sector)) +
scale_y_log10() +
geom_bar(stat = "identity", position = "dodge") +
labs(
title = "Emission per Year per Sector",
x = "Year",
y = "Emission (kg)",
fill = "Sector"
) +
theme_minimal()
source("~/Documents/GitHub/PFE-Stikstof/Emission_Per_Year_Per_Sector.R")
#1. Merge the cleaned tables of Emission of Bouw and Landbouw for the years 2019-2023
combined_data <- DataSetEmissieClean
ggplot(combined_data, aes(x = factor(Jaar), y = Emissie, fill = Sector)) +
scale_y_log10() +
geom_bar(stat = "identity", position = "dodge") +
labs(
title = "Emission per Year per Sector",
x = "Year",
y = "Emission (kg)",
fill = "Sector"
) +
theme_minimal()
library(tidyr)
library(ggplot2)
#1. Merge the cleaned tables of Emission of Bouw and Landbouw for the years 2019-2023
combined_data <- DataSetEmissieClean
ggplot(combined_data, aes(x = factor(Jaar), y = Emissie, fill = Sector)) +
scale_y_log10() +
geom_bar(stat = "identity", position = "dodge") +
labs(
title = "Emission per Year per Sector",
x = "Year",
y = "Emission (kg)",
fill = "Sector"
) +
theme_minimal()
View(DataSetEmissieClean)
View(DataSetEmissieClean)
View(DataSetEmissieClean)
